<!DOCTYPE html>
<html class="writer-html5" lang="es" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Solución a errores más frecuentes &mdash; documentación de Afip SDK PHP - 0.1</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.png"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/translations.js"></script>
        <script src="https://www.googletagmanager.com/gtag/js?id=UA-121828165-1"></script>
        <script src="_static/js/tracking.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Índice" href="genindex.html" />
    <link rel="search" title="Búsqueda" href="search.html" />
    <link rel="next" title="Preguntas frecuentes" href="faq.html" />
    <link rel="prev" title="Integrar otro web service" href="generic_web_service.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #5f4d93" >
            <a href="index.html" class="icon icon-home"> Afip SDK PHP
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Buscar documentos" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="examples/index.html">Ejemplos de uso</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Factura%20A.html">Crear Factura A</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Factura%20B.html">Crear Factura B</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Factura%20C.html">Crear Factura C</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Factura%20de%20Credito%20electronica%20A.html">Crear Factura de Crédito electrónica A</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Factura%20de%20Credito%20electronica%20B.html">Crear Factura de Crédito electrónica B</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Factura%20de%20Credito%20electronica%20C.html">Crear Factura de Crédito electrónica C</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20el%20numero%20de%20ultima%20Factura%20A.html">Obtener el número de ultima Factura A</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20el%20numero%20de%20ultima%20Factura%20B.html">Obtener el número de ultima Factura B</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20el%20numero%20de%20ultima%20Factura%20C.html">Obtener el número de ultima Factura C</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20informacion%20de%20Factura%20A%20ya%20emitida.html">Obtener información de Factura A ya emitida</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20informacion%20de%20Factura%20B%20ya%20emitida.html">Obtener información de Factura B ya emitida</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20informacion%20de%20Factura%20C%20ya%20emitida.html">Obtener información de Factura C ya emitida</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Nota%20de%20Credito%20A.html">Crear Nota de Crédito A</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Nota%20de%20Credito%20B.html">Crear Nota de Crédito B</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Crear%20Nota%20de%20Credito%20C.html">Crear Nota de Crédito C</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20datos%20del%20padron%20alcance%204.html">Obtener datos del padrón alcance 4</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20datos%20del%20padron%20alcance%205.html">Obtener datos del padrón alcance 5</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20datos%20del%20padron%20alcance%2010.html">Obtener datos del padrón alcance 10</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20datos%20del%20padron%20alcance%2013.html">Obtener datos del padrón alcance 13</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Obtener%20numero%20para%20el%20codigo%20de%20barras.html">Obtener número para el código de barras</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Cambiar%20nombre%20o%20ruta%20de%20archivo%20cert.html">Cambiar nombre o ruta de archivo cert</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Cambiar%20nombre%20o%20ruta%20de%20archivo%20key.html">Cambiar nombre o ruta de archivo key</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Cambiar%20carpeta%20donde%20se%20guardan%20los%20Token.html">Cambiar carpeta donde se guardan los Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Usar%20el%20SDK%20en%20modo%20produccion.html">Usar el SDK en modo producción</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples/Declarar%20varios%20tipos%20de%20IVA.html">Declarar varios tipos de IVA</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="frameworks/index.html">Implementación en Frameworks y Plataformas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="frameworks/laravel.html">Implementación en Laravel</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/symfony.html">Implementación en Symfony</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/codeigniter.html">Implementación en CodeIgniter</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/cakephp.html">Implementación en CakePHP</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/yii.html">Implementación en Yii</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/magento.html">Implementación en Magento</a></li>
<li class="toctree-l2"><a class="reference internal" href="frameworks/wordpress.html">Implementación en WordPress</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorials/index.html">Tutoriales para la página AFIP</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorials/test-certificate.html">Obtener certificado de testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/test-authorization.html">Autorizar a un web service de testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/test-add-administration.html">Habilitar administrador de certificados de testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/production-certificate.html">Obtener certificado de producción</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/production-authorization.html">Autorizar a un web service de producción</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorials/production-add-administration.html">Habilitar administrador de certificados de producción</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="generic_web_service.html">Integrar otro web service</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Solución a errores más frecuentes</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Preguntas frecuentes</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #5f4d93" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Afip SDK PHP</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Solución a errores más frecuentes</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="solucion-a-errores-mas-frecuentes">
<h1>Solución a errores más frecuentes<a class="headerlink" href="#solucion-a-errores-mas-frecuentes" title="Enlazar permanentemente con este título"></a></h1>
<p>Aquí encontraras solución a los errores más frecuentes al utilizar los web services de Afip. Puedes utilizar la función de buscar de tu navegador para encontrar el error que buscas más rápido.</p>
<p><strong>Error:</strong>
Warning: Use of undefined constant SOAP_1_2 - assumed “SOAP_1_2”</p>
<p><strong>Solución:</strong>
El problemas es que esta desactivada la extensión SOAP de PHP. La solución es activar la extensión SOAP de PHP en el archivo php.ini (No te olvides de reiniciar apache para que detecte el cambio)</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
(11002) El punto de venta no se encuentra habilitado a usar el presente WS. Ver metodo FEParamGetPtosVenta</p>
<p><strong>Solución:</strong>
Modo testing: Cuando aparece en modo testing es porque están haciendo cambios en lso servidores y lanza este error.
Modo producción: Hay que habilitar el punto de venta par que sea accesible desde web services, esto se hace desde el escritorio de AFIP.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
Fatal error: Uncaught Exception: SOAP Fault: ns1:coe.alreadyAuthenticated El CEE ya posee un TA valido para el acceso al WSN solicitado</p>
<p><strong>Solución:</strong>
Este error se produce porque ya se creó un Token de acceso para el certificado que estas usando, y puede suceder por dos razones. Borraste el archivo de Token y vas a tenes que esperar un rato para poder obtener uno nuevo o porque estas utilizando el mismo certificado en otro servidor/computadora, de ser así deberías crear un certificado nuevo para el servidor que estas usando, ya que no se debe usar el mismo certificado en servidores diferentes.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
(10016) El número o fecha del comprobante no se corresponde con el próximo a autorizar</p>
<p><strong>Solución:</strong>
Asegurarse de que en el campo CbteDesde y CbteHasta estas poniendo el número del siguiente comprobante a autorizar. En la documentación de la librería se enseña cómo obtener el  número del último comprobante. Además la versión PRO incluye ejemplos de cómo hacerlo para los diferentes tipos de factura.
También aparece este error cuando tratas de enviar un comprobante con una fecha anterior al del último comprobante enviado. Para solucionarlo debes enviarlo con una fecha igual o posterior.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
Certificado no emitido por AC de confianza</p>
<p><strong>Solución:</strong>
Esto sucede porque estamos tratando de utilizar certificados de testing en modo producción o viceversa. Se soluciona cambiando los certificados por el correspondiente o cambiando el modo de la librería (test o producción).</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
Warning: openssl_pkcs7_sign(): error getting cert</p>
<p><strong>Solución:</strong>
Este error suele aparecer por confundir el certificado con el CRS. Abre el certificado en un editor de texto y asegúrate que la primera línea diga “—–BEGIN CERTIFICATE—–” si hay algo diferente es porque ese no es el certificado.</p>
<p>Este error también suele producirse por un error en el certificado, si no podes solucionarlo con el método anterior entonces genera uno nuevamente siguiendo los pasos de los <a class="reference internal" href="tutorials/index.html#tutorials"><span class="std std-ref">Tutoriales para la página AFIP</span></a></p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
(600) ValidacionDeToken: Error al verificar hash: VerificacionDeHash: No validó la firma digital.</p>
<p><strong>Solución:</strong>
Este error suele aparecer al cambiar entre modo producción y testing. Para solucionarlo debes borrar el archivo .xml que se genera en la carpeta Afip_res correspondiente con el web service al que estas intentando ingresar.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
(600) ValidacionDeToken: No aparecio CUIT en lista de relaciones</p>
<p><strong>Solución:</strong>
Este error aparece cuando intentas usar la librería con un CUIT diferente al que se utilizó al generar el certificado. Para solucionarlo debes utilizar el mismo CUIT.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
Error 500</p>
<p><strong>Solución:</strong>
Esto aparece porque ocurre algún error en el código pero no está mostrando cual es el error real. Deberías agregar  error_reporting(E_ALL); ini_set(“display_errors”, “1”);  en tu código para saber cuál es exactamente el error.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
(501) Error interno de base de datos</p>
<p><strong>Solución:</strong>
Este es un error interno de Afip. La única solución es esperar hasta que lo arreglen.</p>
<p><span class="raw-html"><hr /></span></p>
<p><strong>Error:</strong>
SOAP Fault: ns1:coe.notAuthorized Computador no autorizado a acceder al servicio</p>
<p><strong>Solución:</strong>
El problema es que falta autorizar a que se pueda acceder al web service con el certificado en uso. En el tutorial <a class="reference internal" href="tutorials/test-authorization.html#tutorial-test-authorization"><span class="std std-ref">Autorizar a un web service de testing</span></a> explicamos cómo autorizar en modo testing y en el tutorial <a class="reference internal" href="tutorials/production-authorization.html#tutorial-production-authorization"><span class="std std-ref">Autorizar a un web service de producción</span></a> como hacerlo en modo producción.</p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pie de página">
        <a href="generic_web_service.html" class="btn btn-neutral float-left" title="Integrar otro web service" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Anterior</a>
        <a href="faq.html" class="btn btn-neutral float-right" title="Preguntas frecuentes" accesskey="n" rel="next">Siguiente <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Derechos de autor 2023, Afip SDK.</p>
  </div>

  Compilado con <a href="https://www.sphinx-doc.org/">Sphinx</a> usando un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">tema</a>
    proporcionado por <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>